doctype html
html(lang="en" data-theme="dark")
  head
    meta(charset="UTF-8")
    title CYRUS Â· Login
    meta(name="viewport" content="width=device-width, initial-scale=1")
    style.
      :root {
        --transition-fast: 0.25s ease;
        --font-body: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        --radius-pill: 999px;
        --shadow-soft: 0 18px 40px rgba(0, 0, 0, 0.35);
      }
      :root[data-theme="dark"] {
        --bg-body: radial-gradient(circle at top, #1e293b 0, #020617 45%, #020617 100%);
        --bg-elevated: rgba(15, 23, 42, 0.96);
        --bg-soft: rgba(15, 23, 42, 0.9);
        --fg-main: #e5e7eb;
        --fg-muted: #9ca3af;
        --accent-1: #f97316;
        --accent-2: #ec4899;
        --accent-3: #22d3ee;
      }
      :root[data-theme="light"] {
        --bg-body: radial-gradient(circle at top, #fefce8 0, #f3f4f6 40%, #e5e7eb 100%);
        --bg-elevated: rgba(255, 255, 255, 0.96);
        --bg-soft: rgba(249, 250, 251, 0.96);
        --fg-main: #111827;
        --fg-muted: #6b7280;
        --accent-1: #ea580c;
        --accent-2: #db2777;
        --accent-3: #0ea5e9;
      }
      * { box-sizing: border-box; margin: 0; padding: 0; }
      html, body { height: 100%; }
      body {
        font-family: var(--font-body);
        background: var(--bg-body);
        color: var(--fg-main);
        -webkit-font-smoothing: antialiased;
      }
      a { color: inherit; text-decoration: none; }

      .page {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 20px;
      }
      .brand {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 24px;
      }
      .brand-badge {
        width: 36px;
        height: 36px;
        border-radius: 14px;
        background: conic-gradient(from 120deg, #f97316, #ec4899, #22d3ee, #f97316);
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        box-shadow: 0 0 0 1px rgba(15,23,42,0.8), 0 14px 30px rgba(0,0,0,0.6);
        color: #fff;
        animation: spin-slow 18s linear infinite;
      }
      @keyframes spin-slow {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
      .brand-text-title {
        font-size: 16px;
        font-weight: 600;
        letter-spacing: 0.08em;
        text-transform: uppercase;
      }
      .brand-text-sub {
        font-size: 11px;
        color: var(--fg-muted);
      }

      .card {
        width: 100%;
        max-width: 420px;
        background: var(--bg-elevated);
        border-radius: 22px;
        padding: 22px 20px 20px;
        box-shadow: var(--shadow-soft);
        border: 1px solid rgba(148,163,184,0.6);
        position: relative;
        overflow: hidden;
      }
      .card::before {
        content: "";
        position: absolute;
        inset: -20%;
        background:
          radial-gradient(circle at 0 0, rgba(34,211,238,0.25), transparent 60%),
          radial-gradient(circle at 100% 100%, rgba(236,72,153,0.35), transparent 60%);
        opacity: 0.8;
        mix-blend-mode: screen;
        pointer-events: none;
      }
      .card-inner {
        position: relative;
        z-index: 1;
      }

      .card-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 16px;
      }
      .card-title {
        font-size: 20px;
        font-weight: 600;
      }
      .card-sub {
        font-size: 12px;
        color: var(--fg-muted);
        margin-top: 4px;
      }
      .theme-toggle {
        width: 34px;
        height: 34px;
        border-radius: var(--radius-pill);
        border: 1px solid rgba(148,163,184,0.6);
        background: var(--bg-soft);
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        position: relative;
        overflow: hidden;
        transition: transform 0.25s ease, box-shadow 0.25s ease;
      }
      .theme-toggle:hover {
        transform: translateY(-1px);
        box-shadow: 0 10px 22px rgba(0,0,0,0.4);
      }
      .theme-toggle-icon {
        position: absolute;
        font-size: 16px;
        transition: transform 0.4s ease, opacity 0.4s ease;
      }
      .theme-toggle-icon.sun { transform: translateY(0); opacity: 1; }
      .theme-toggle-icon.moon { transform: translateY(200%); opacity: 0; }
      :root[data-theme="light"] .theme-toggle-icon.sun { transform: translateY(-200%); opacity: 0; }
      :root[data-theme="light"] .theme-toggle-icon.moon { transform: translateY(0); opacity: 1; }

      form { display: flex; flex-direction: column; gap: 10px; }
      label {
        font-size: 12px;
        color: var(--fg-muted);
        margin-bottom: 2px;
      }
      .field {
        display: flex;
        flex-direction: column;
      }
      input[type="email"],
      input[type="password"] {
        border-radius: 999px;
        border: 1px solid rgba(148,163,184,0.7);
        padding: 9px 12px;
        background: rgba(15,23,42,0.85);
        color: var(--fg-main);
        font-size: 13px;
        outline: none;
        transition: border 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
      }
      :root[data-theme="light"] input[type="email"],
      :root[data-theme="light"] input[type="password"] {
        background: rgba(255,255,255,0.95);
      }
      input:focus {
        border-color: var(--accent-3);
        box-shadow: 0 0 0 1px rgba(34,211,238,0.6);
      }

      .row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 11px;
        color: var(--fg-muted);
        margin-top: 2px;
      }
      .row a {
        text-decoration: underline;
        text-decoration-style: dotted;
      }
      .btn-primary {
        border-radius: var(--radius-pill);
        border: none;
        padding: 9px 14px;
        margin-top: 8px;
        font-size: 13px;
        font-weight: 600;
        cursor: pointer;
        background-image: linear-gradient(120deg, var(--accent-1), var(--accent-2));
        color: #f9fafb;
        box-shadow: 0 16px 40px rgba(0,0,0,0.55);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 7px;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }
      .btn-primary:hover {
        transform: translateY(-1px) scale(1.01);
        box-shadow: 0 18px 46px rgba(0,0,0,0.6);
      }
      .switch-text {
        margin-top: 10px;
        font-size: 11px;
        text-align: center;
        color: var(--fg-muted);
      }
      .switch-text a {
        font-weight: 500;
        text-decoration: underline;
      }

  body
    .page
      .brand
        .brand-badge C
        div
          .brand-text-title CYRUS
          .brand-text-sub Collaborative Art Board

      .card
        .card-inner
          .card-header
            div
              .card-title Welcome back
              .card-sub Log in to join or host a CYRUS canvas session.
            button#themeToggle.theme-toggle(type="button" aria-label="Toggle colour theme")
              span.theme-toggle-icon.sun â˜€ï¸
              span.theme-toggle-icon.moon ðŸŒ™

          form(method="post" action="/login")
            .field
              label(for="email") Email
              input#email(type="email" name="email" required placeholder="you@example.com")
            .field
              label(for="password") Password
              input#password(type="password" name="password" required placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢")
            .row
              span Lightweight student project â€” no spam.
              a(href="#") Forgot password?
            button.btn-primary(type="submit")
              | Sign in to CYRUS
              span(aria-hidden="true") â†—

          .switch-text
            | New here? 
            a(href="/register") Create a CYRUS account

    script.
      // Theme toggle with persistence
      (function () {
        const root = document.documentElement;
        const toggle = document.getElementById("themeToggle");
        if (!toggle) return;
        const stored = localStorage.getItem("portfolio-theme");
        if (stored === "light" || stored === "dark") {
          root.setAttribute("data-theme", stored);
        }
        toggle.addEventListener("click", () => {
          const current = root.getAttribute("data-theme") || "dark";
          const next = current === "dark" ? "light" : "dark";
          root.setAttribute("data-theme", next);
          localStorage.setItem("portfolio-theme", next);
        });
      })();
